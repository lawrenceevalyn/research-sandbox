Title: DSH-2018  
Author: Lawrence Evalyn

# TITLE #

Classifying Shakespeare's Plays with Network Graphs: Dramatic Genre Revealed in Character Speech Interactions

# Introduction #

## opening ##

Genre, as one of the perennially difficult questions of literary study, is a ubiquitous subject for computational "distant reading" of literature. [Cite Daniel Chandler re: what's hard about genre, what our goal is with genre.] [Explain what distant reading is, try to get Jockers and Hoover in here.]

[In setting out to answer questions about generic change in eighteenth-century theatre, we realised that we first must establish a baseline that linguistic encounters in the space of the stage, in and of themselves, constitute meaning] [make clear that this is our driving, central testable hypothesis] genre has something to do with relations between characters (not something that people have necessarily said); the idea that comedy is about social connection is not new, but that it can be mapped by the way characters relate on the stage is different and interesting.

The study of Shakespeare has a particularly long history of genre studies, as scholars have been interpreting and revising the taxonomy of "comedy," "history," and "tragedy" since the First Folio.[^cf1] We're working in the tradition that examines First Folio designations.

Ours is not the first project to conceive of plays as social networks.[^cf2] [DESCRIBE SOME] [We go to Shakespeare because we have a baseline of comparison.]
Where we differ from these models is our precise focus on character speech, rather than the rougher metric of shared scenes.

Modelling a play as a [the precise thing we model] renders the speech act as the fundamental "unit" of a play's script. Who is on stage, and who can hear them speak --- and how often they speak, how much they speak at once, and whether people speak back to them.

# Methods #

## TEI parser ##

Examining network graphs requires, first, a substantial body of network graphs. Many scholars have handmade theatrical network graphs, both as wholly artistic interpretations (Moretti) and as mathematically-expressed networks (Trilcke et al., Fischer et al.). Like the Digital Literary Network Analysis (dlina) working group, we acquire our networks by parsing plays which have been encoded according to the Text Encoding Initiative (TEI) standards. Our parser takes in a TEI-encoded play, extracts characters for the nodes of a network, and connects nodes via a directional edge each time a character speaks while another character is on stage as a potential auditor.[^cf3] By using directional edges, weighting character connections based on speech, and by sub-dividing the play into blocks smaller than the unit of the scene based on the configurations of characters present on stage, we create networks at a higher level of detail than prior work which creates edges simply for co-occurrence within a scene. We began by replicating Moretti's results in order to verify our parser's accuracy,[^cf4] then generated networks for a full corpus of Shakespeare's works.[^cf5]

## classifiers ##

We then used our generated network graphs to test our central question: whether character speech interaction can be used to distinguish between the dramatic genres of tragedy, comedy, and history. We decided that the answer would be "yes" if we could train a classifier to replicate the First Folio's classifications for Shakespeare's 36 plays. We tested three classifier algorithms[^cf6] with fivefold cross-validation, using 21 different mathematical features as the metrics for comparison.[^cf7] We found that even one feature could achieve classification accuracy[^cf8] substantially above random chance. Since there are three possibilities, a random guess would be correct 33% of the time, but we achieved 66.43% accuracy using only the networks' average path length[^cf9]. Accuracy increases as more features are considered in combination. With two features, our maximum accuracy is 77.86%.[^cf10] With three features, we reach 83.57%.[^cf11] We evaluated combinations of features up to 7 maximum. Our highest accuracy was 88.93%[^cf12]. Compared to the baseline of 33%, this accuracy is sufficient to establish the core premise of our hypothesis, that networks of character speech offer meaningful information about dramatic genre.[^cf13]

# Findings #

## genres ##

[Signpost that I'm going to get to the problem plays]
genre has something to do with relations between characters (not something that people have necessarily said); the idea that comedy is about social connection is not new, but that it can be mapped by the way characters relate on the stage is different and interesting.

ADD OVERALL GENRE MATH

### comedies ###

Comedies are, it turns out, the most straightforward networks to identify. They have fewer nodes, with high graph density. Although comedies often have multiple subplots, we find that these separate stories do not result in highly-separated networks. We theorize that comedic networks are strongly shaped by the final "resolution" scenes, which bring the cast together for a restoration of social order, and therefore create edges knitting the network together. (See, for example, A Midsummer Night's Dream.) The average eigenvector centrality of the characters in comedies is also much higher than in tragedies or histories; this suggests that many more of the characters in a comedy are "important," reflecting a focus on ensemble stories.

when we say that the comedies are easy, make it clear that it's run on the full corpus etc, that errors come in through the histories/tragedy distinction

MORE MATH
 Algee-Hewitt has found, for example, [change in eigenvector]. This work suggests that he may be seeing, in part, a change in the popular genres.

FIGURES: Midsummer; Comedy of Errors, MORE

### history/tragedy ambiguity ###



comedies are really simple. ok, and now let's look at what this does when things get complicated." (or at least signpost then that we're gonna come back to the problem/romance plays) -- our way of reading is that tragedies are the least clear: it might look like they're similar to histories (explain math), but there's something else with density (more math), and what's really interesting is the way it makes us look at the plays

tragedies look really close to histories, which makes sense for how tragedy emerges generically
Roman plays are the point at which we transition from history to tragedy

### histories ###

In contrast, histories feature highly dispersed networks, with large numbers of very minor characters,[^cf14] such as "First," "Second," and "Third" members of groups like soldiers and ambassadors, who each interject briefly in a single scene. Connections form chains of acquaintance with little overlap, so even the monarchs have low eigenvector centrality. Whereas the directional edges in comedies tended to be reciprocal and balanced, in histories they are often unidirectional, as characters give orders or statements to each other.

### tragedies ###

Tragedies are more formally unpredictable, and sit somewhere ambiguously between comedies and histories. Many have a dense core with a secondary ring of more peripheral characters. Many have a node who forms a distinct, singular centre of the network, connected to a large number of nodes that are only sparsely connected to each other. Directional edges are, as in histories, often unreciprocated, and the "tragic hero" nodes are particularly likely to have very heavily weighted edges connecting outward (indicating that they have given long speeches) with light to no reciprocation.

acknowledge more of the problems, be less sure (esp re: histories)

## case studies ##

### Cymbeline ###

As Figure 1 shows, both classifiers generally concur with the First Folio's classification of the "problem plays," with the exception that the SVM classifier identifies Troilus and Cressida as a comedy rather than a tragedy. The romances (Figure 2) are slightly more ambiguous. 

![][problem-plays]
Figure 1: classifications for the "problem plays."

![][romances]
Figure 2: classifications for the romances.

The classifiers concur with the First Folio regarding The Tempest, but neither classifies The Winter's Tale or Pericles[^cf15] as a comedy. Moreover, the classification of Cymbeline (Figure 3) as a tragedy, even though this classification concurs with the First Folio, constitutes a surprise. Audiences since Samuel Johnson in 1765[^cf16] have complained of Cymbeline's failures as a tragedy (among other things, it has a happy ending), and Barbara Mowat refers to the Folio's identification of the play as "The Tragedie of Cymbeline" in the index, title page, and running heads, as "misleading paratextual matter" (130). Our classification, in contrast, supports Valerie Wayne and Richard Proudfoot's assessment that although "[i]t is not a tragedy as that form is most widely understood today or as Johnson understood it in the eighteenth century, [...] it did sufficiently meet Renaissance definitions" of that genre (Wayne 403). Part of what is valuably illuminated by our approach to classification is the ability to define genre based on Early Modern usage.
![][cymbeline2]
Figure 3: network graph of character interaction in Cymbeline.

### Winter's Tale ###

The Winter's Tale provides a particularly useful case study for close-reading a play through the lens of its social network. The play earns its designation as a "romance" due to its two-part structure:[^cf17] the first X acts play like a tragedy, in which Leontes gradually ruins his own life. At the beginning of Act X, the character of "Time" comes on stage to declare that XX years have passed, and the play begins an extended pastoral comedy which ultimately resolves all the looming tragedies of the beginning of the play. These two theatrical dynamics are visible in the social network graph, as seen in Figure 4: Leontes radiates unreciprocated and unbalanced edges, looking like a Hamlet of his world. But the characters who enter in the latter half of the play --- NAMES HERE --- connect to each other in a dense, comedic structure. As a result, the play's network as a whole is neither a comedy nor a tragedy, which the classifiers evidently deem a history.

![][winterstale]
Figure 4: network graph of character interaction in The Winter's Tale.

# Conclusion #

## social networks rock ##

We treat none of these identifications as definitive declaration of the plays' "real" genres, 

conclusion: this is a new way of thinking about the plays


say the point of these tools is to confirm some ways to think about the text, but also to reconsider them and give us new tools to think about the problem cases (and then go onto the rough of what we're doing)

Conclusion: here's a new way of looking at old questions (though not new findings), with the one sentence that genre plays out in where people stand on a stage and who they talk to and listen to -- which was our testable hypothesis: does it actually matter to a play, people standing on a stage talking in the presence of each other?

Our parser successfully and rapidly produces sophisticated social network graphs of TEI plays, which can be used to computationally identify theatrical genre in Shakespeare's plays. Thirty-seven plays is a small scale for this approach: since the parser is highly extensible and can be used with any plays encoded in TEI, future work need not be restricted to the Early Modern period. It need not even be restricted to works written in English. These future projects [will need to take their local content into account], but [thanks to us they now know to look at density, eigenvector centrality, path length, and reciprocation] Our networks of the well-studied works of Shakespeare can provide a baseline against which to contextualize analysis of these elements in works for which there is far less critical consensus.
Having verified that the network graphs do encode literary information, future work can apply these methods for macroanalysis. Our SVM trained on Shakespeare will only give meaningful results in an Early Modern context, but could nonetheless be straightforwardly applied to a larger Early Modern corpus.


[problem-plays]: problem-plays.png width=350px height=53px

[romances]: romances.png width=350px height=76px

[cymbeline2]: cymbeline2.png width=350px height=350px

[winterstale]: winterstale.png width=350px height=332px

[^cf1]: [CITE SOME SHAKESPEARE GENRE STUFF HERE]

[^cf2]: Stiller et al. have shown that social networks in Shakespeare's plays mirror those of real human interactions, particularly in size, clustering, and maximum degrees of separation (2003). Moretti uses social networks to examine the plots of three Shakespearean tragedies, and to contrast the structure of chapters in English and Chinese novels (2011). Alberich et al. (2002) and Sparavigna (2013) also discuss the interplay between social and narrative constraints on networks.

[^cf3]: Although we have not yet solved the problem of guessing the specific addressees of a character's speech, we do use stage directions to track character entrances and exits, thereby reducing some of the false positives created when edges are created at the scale of shared scenes.

[^cf4]: The existence of well-crafted graphs for comparison partly motivated our selection of Shakespeare as our first subject. In general, our graphs differ from Moretti's primarily by including characters whom he excludes: we have nodes for minor characters like "Servant," for example, and we include all the players of the play-within-the-play in Hamlet. Because our edges are directional, we are also able to represent details of character interaction which Moretti regretted leaving out, such as the fact that Horatio addresses the Ghost, but the Ghost speaks only to Hamlet. Despite these differences, our network graphs generally support Moretti's literary readings.

[^cf5]: Specifically, we generated networks for the 36 plays included in the First Folio, and (to contribute to scholarly conversations about Shakespeare's "romances") Pericles, Prince of Tyre, for 37 total plays. All play texts came from Northwestern University's "WordHoard Shakespeare."

[^cf6]: We tested k-nearest neighbors (KNN), a support vector machine (SVM) with one vs one classification, and a Naïve Bayes classifier. KNN, we soon determined, was too vulnerable to the over-representation of comedies among Shakespeare's works, so we eliminated it from further experimentation. The SVM and Naïve Bayes had highly similar accuracy, so remaining tests were carried out with both. The SVM's maximum accuracy was typically a few percentage points higher than Naïve Bayes.

[^cf7]: These features are a combination of extracted play features (such as the number of lines), node features averaged across all nodes (such as average eigenvector centrality), and graph features (such as graph density).

[^cf8]: Accuracy here meaning, of course, "concurrence with the First Folio,"

[^cf9]: This figure was achieved by the SVM classifier. The maximum single-feature accuracy achieved by the Naïve Bayes classifier was 63.57%, examining only the number of lines in each play.

[^cf10]: Evaluating plays based on a pair of features is the only case in which Naïve Bayes outperforms SVM. Naïve Bayes achieves 77.86% by considering lines & average eigenvector. SVM achieves 72.5% with four different pairs: harmonic & diameter; harmonic & path length; graph density & diameter; and graph density & path length.

[^cf11]: SVM achieves 83.57% accuracy with words, characters, & lines. Naïve Bayes achieves 80.71% with lines, graph density, & degree.

[^cf12]: This result was achieved with the SVM using five features. The features were a combination of play features (words, lines), node features (closeness), and network features (density and degree).

[^cf13]: We anticipate that a larger testing corpus would substantially improve peak accuracy. As part of our experimentation, we tested excluding the various "problem plays" and romances from our corpus, in case these works were too ambiguous in genre to contribute meaningfully to the classification. However, instead of improving our accuracy, reducing our corpus to the most "standard" works substantially reduced accuracy, evidently because the sample was too small to generalize from. Thirty-six plays appears to be near the minimum corpus size for meaningful classification with our methods.

[^cf14]: Early Modern theatre companies remained generally constant in size, so these additional characters likely indicate increased doubling (or tripling, etc) of roles

[^cf15]: Pericles is not, of course, a First Folio play, and has not formed part of our corpus for the other stages of this project, but was graphed and classified in service of this question. Its "original" designation as a comedy comes from general critical consensus, rather than the First Folio.

[^cf16]: Every discussion of Cymbeline, and particularly of its genre, must duly quote Johnson's judgment that "This play has many just sentiments, some natural dialogues, and some pleasing scenes, but they are obtained at the expense of much incongruity. To remark the folly of the fiction, the absurdity of the conduct, the confusion of the names and manners of different times, and the impossibility of the events in any system of life, were to waste criticism upon unresisting imbecility, upon faults too evident for detection, and too gross for aggravation" (307). I hereby discharge this solemn duty.

[^cf17]: probably cite somebody about this